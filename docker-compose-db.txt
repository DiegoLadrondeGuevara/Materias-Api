version: '3.8'
services:
  mongo:
    image: mongo:6
    container_name: mongo-materias
    ports:
      - "27017:27017"
    volumes:
      - mongo_data:/data/db
    restart: always

volumes:
  mongo_data:


---
levantalo con:
docker-compose up -d
ConÃ©ctate al contenedor:
docker exec -it mongo-materias bash

Edita /etc/mongod.conf y cambia esto:

# antes
bindIp: 127.0.0.1
# despuÃ©s
bindIp: 0.0.0.0

Sal y reinicia el contenedor:
docker restart mongo-materias


ðŸ”— Paso 3: Configurar tu API para conectarse a esa base remota

Supongamos que la IP privada o pÃºblica de la MV de Mongo es 10.0.0.5.

Edita el archivo .env de tus APIs en las otras dos MVs:

el .env
PORT=3001
MONGODB_URI=mongodb://10.0.0.5:27017/materiasdb